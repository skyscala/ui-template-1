aW1wb3J0IHsgVGVzdEJlZCwgYXN5bmMgfSBmcm9tICdAYW5ndWxhci9jb3JlL3Rlc3RpbmcnOwppbXBvcnQgeyBSb3V0ZXJUZXN0aW5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyL3Rlc3RpbmcnOwppbXBvcnQgeyBOb29wQW5pbWF0aW9uc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvYW5pbWF0aW9ucyc7CmltcG9ydCB7IEFwcENvbXBvbmVudCB9IGZyb20gJy4vYXBwLmNvbXBvbmVudCc7CmltcG9ydCB7IEFwcFRvcEJhckNvbXBvbmVudCB9IGZyb20gJy4vYXBwLnRvcGJhci5jb21wb25lbnQnOwppbXBvcnQgeyBBcHBCcmVhZGNydW1iQ29tcG9uZW50IH0gZnJvbSAnLi9hcHAuYnJlYWRjcnVtYi5jb21wb25lbnQnOwppbXBvcnQgeyBBcHBSaWdodFBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi9hcHAucmlnaHRwYW5lbC5jb21wb25lbnQnOwppbXBvcnQgeyBBcHBQcm9maWxlQ29tcG9uZW50IH0gZnJvbSAnLi9hcHAucHJvZmlsZS5jb21wb25lbnQnOwppbXBvcnQgeyBCcmVhZGNydW1iU2VydmljZSB9IGZyb20gJy4vYXBwLmJyZWFkY3J1bWIuc2VydmljZSc7CmltcG9ydCB7IE1lbnVTZXJ2aWNlIH0gZnJvbSAnLi9hcHAubWVudS5zZXJ2aWNlJzsKaW1wb3J0IHsgQXBwRm9vdGVyQ29tcG9uZW50IH0gZnJvbSAnLi9hcHAuZm9vdGVyLmNvbXBvbmVudCc7CmltcG9ydCB7IEFwcE1lbnVDb21wb25lbnQgfSBmcm9tICcuL2FwcC5tZW51LmNvbXBvbmVudCc7CmltcG9ydCB7IEFwcE1lZ2FtZW51Q29tcG9uZW50IH0gZnJvbSAnLi9hcHAubWVnYW1lbnUuY29tcG9uZW50JzsKaW1wb3J0IHsgQnV0dG9uTW9kdWxlIH0gZnJvbSAncHJpbWVuZy9idXR0b24nOwppbXBvcnQgeyBUYWJWaWV3TW9kdWxlIH0gZnJvbSAncHJpbWVuZy90YWJ2aWV3JzsKaW1wb3J0IHsgUGFuZWxNb2R1bGUgfSBmcm9tICdwcmltZW5nL3BhbmVsJzsKCmRlc2NyaWJlKCdBcHBDb21wb25lbnQnLCAoKSA9PiB7CiAgYmVmb3JlRWFjaChhc3luYygoKSA9PiB7CiAgICBUZXN0QmVkLmNvbmZpZ3VyZVRlc3RpbmdNb2R1bGUoewogICAgICBpbXBvcnRzOiBbTm9vcEFuaW1hdGlvbnNNb2R1bGUsIFJvdXRlclRlc3RpbmdNb2R1bGUsIFRhYlZpZXdNb2R1bGUsIFBhbmVsTW9kdWxlLCBCdXR0b25Nb2R1bGVdLAogICAgICBkZWNsYXJhdGlvbnM6IFsKICAgICAgICBBcHBDb21wb25lbnQsCiAgICAgICAgQXBwVG9wQmFyQ29tcG9uZW50LAogICAgICAgIEFwcE1lbnVDb21wb25lbnQsCiAgICAgICAgQXBwTWVnYW1lbnVDb21wb25lbnQsCiAgICAgICAgQXBwUmlnaHRQYW5lbENvbXBvbmVudCwKICAgICAgICBBcHBQcm9maWxlQ29tcG9uZW50LAogICAgICAgIEFwcEZvb3RlckNvbXBvbmVudCwKICAgICAgICBBcHBCcmVhZGNydW1iQ29tcG9uZW50CiAgICAgIF0sCiAgICAgIHByb3ZpZGVyczogW0JyZWFkY3J1bWJTZXJ2aWNlLCBNZW51U2VydmljZV0KICAgIH0pLmNvbXBpbGVDb21wb25lbnRzKCk7CiAgfSkpOwogIGl0KCdzaG91bGQgY3JlYXRlIHRoZSBhcHAnLCBhc3luYygoKSA9PiB7CiAgICBjb25zdCBmaXh0dXJlID0gVGVzdEJlZC5jcmVhdGVDb21wb25lbnQoQXBwQ29tcG9uZW50KTsKICAgIGNvbnN0IGFwcCA9IGZpeHR1cmUuZGVidWdFbGVtZW50LmNvbXBvbmVudEluc3RhbmNlOwogICAgZXhwZWN0KGFwcCkudG9CZVRydXRoeSgpOwogIH0pKTsKfSk7Cg