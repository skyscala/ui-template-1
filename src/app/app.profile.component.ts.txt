aW1wb3J0IHtDb21wb25lbnR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBBcHBNYWluQ29tcG9uZW50fSBmcm9tICcuL2FwcC5tYWluLmNvbXBvbmVudCc7CmltcG9ydCB7dHJpZ2dlciwgc3RhdGUsIHRyYW5zaXRpb24sIHN0eWxlLCBhbmltYXRlfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJzsKCkBDb21wb25lbnQoewogICAgc2VsZWN0b3I6ICdhcHAtaW5saW5lLXByb2ZpbGUnLAogICAgdGVtcGxhdGU6IGAKICAgICAgICA8ZGl2IGNsYXNzPSJ1c2VyLXByb2ZpbGUiPgogICAgICAgICAgICA8YSBocmVmPSIjIiAoY2xpY2spPSJvblByb2ZpbGVDbGljaygkZXZlbnQpIiBpZD0ic2lkZWJhci1wcm9maWxlLWJ1dHRvbiI-CiAgICAgICAgICAgICAgICA8aW1nIHNyYz0iYXNzZXRzL2xheW91dC9pbWFnZXMvYXZhdGFyLnBuZyIgYWx0PSJjYWxpZm9ybmlhLWxheW91dCIvPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNpZGViYXItcHJvZmlsZS1uYW1lIj5QYXVsaW5lIEhhcnJlbGw8L3NwYW4-CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ic2lkZWJhci1wcm9maWxlLXJvbGUiPkFkbWluaXN0cmF0b3I8L3NwYW4-CiAgICAgICAgICAgIDwvYT4KCiAgICAgICAgICAgIDx1bCBpZD0ic2lkZWJhci11c2VybWVudSIgY2xhc3M9InVzZXJtZW51IiBbbmdDbGFzc109InsndXNlcm1lbnUtYWN0aXZlJzphcHAudXNlcm1lbnVBY3RpdmV9IgogICAgICAgICAgICAgICAgW0BtZW51XT0iYXBwLmlzU2xpbSgpPyBhcHAudXNlcm1lbnVBY3RpdmUgPyAndmlzaWJsZScgOiAnaGlkZGVuJyA6CiAgICAgICAgICAgICAgICBhcHAudXNlcm1lbnVBY3RpdmUgPyAndmlzaWJsZUFuaW1hdGVkJyA6ICdoaWRkZW5BbmltYXRlZCciPgogICAgICAgICAgICAgICAgPGxpICNwcm9maWxlIFtuZ0NsYXNzXT0ieydtZW51aXRlbS1hY3RpdmUnOmFwcC5hY3RpdmVQcm9maWxlSXRlbSA9PT0gcHJvZmlsZX0iPgogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMiIChjbGljayk9Im9uUHJvZmlsZUl0ZW1DbGljaygkZXZlbnQscHJvZmlsZSkiPgogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0icGkgcGktZncgcGktdXNlciI-PC9pPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0idG9wYmFyLWl0ZW0tbmFtZSI-UHJvZmlsZTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2E-CiAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgPGxpICNzZXR0aW5ncyBbbmdDbGFzc109InsnbWVudWl0ZW0tYWN0aXZlJzphcHAuYWN0aXZlUHJvZmlsZUl0ZW0gPT09IHNldHRpbmdzfSI-CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iIyIgKGNsaWNrKT0ib25Qcm9maWxlSXRlbUNsaWNrKCRldmVudCxzZXR0aW5ncykiPgogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0icGkgcGktZncgcGktY29nIj48L2k-CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0b3BiYXItaXRlbS1uYW1lIj5TZXR0aW5nczwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImxheW91dC1tZW51aXRlbS10b2dnbGVyIHBpIHBpLWZ3IHBpLWFuZ2xlLWRvd24iPjwvaT4KICAgICAgICAgICAgICAgICAgICA8L2E-CiAgICAgICAgICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgICAgICAgICA8bGkgcm9sZT0ibWVudWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iIyIgKGNsaWNrKT0ib25Qcm9maWxlU3ViSXRlbUNsaWNrKCRldmVudCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJwaSBwaS1mdyBwaS1wYWxldHRlIj48L2k-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4-Q2hhbmdlIFRoZW1lPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgICAgICA8bGkgcm9sZT0ibWVudWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iIyIgKGNsaWNrKT0ib25Qcm9maWxlU3ViSXRlbUNsaWNrKCRldmVudCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJwaSBwaS1mdyBwaS1zdGFyIj48L2k-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4-RmF2b3JpdGVzPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgICAgICA8bGkgcm9sZT0ibWVudWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iIyIgKGNsaWNrKT0ib25Qcm9maWxlU3ViSXRlbUNsaWNrKCRldmVudCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJwaSBwaS1mdyBwaS1sb2NrIj48L2k-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4-TG9jayBTY3JlZW48L3NwYW4-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E-CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk-CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSByb2xlPSJtZW51aXRlbSI-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiAoY2xpY2spPSJvblByb2ZpbGVTdWJJdGVtQ2xpY2soJGV2ZW50KSI-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9InBpIHBpLWZ3IHBpLWltYWdlIj48L2k-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4-V2FsbHBhcGVyPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDwvdWw-CiAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgPGxpICNtZXNzYWdlcyBbbmdDbGFzc109InsnbWVudWl0ZW0tYWN0aXZlJzphcHAuYWN0aXZlUHJvZmlsZUl0ZW0gPT09IG1lc3NhZ2VzfSI-CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iIyIgKGNsaWNrKT0ib25Qcm9maWxlSXRlbUNsaWNrKCRldmVudCxtZXNzYWdlcykiPgogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0icGkgcGktZncgcGktZW52ZWxvcGUiPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InRvcGJhci1pdGVtLW5hbWUiPk1lc3NhZ2VzPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0ibGF5b3V0LW1lbnVpdGVtLXRvZ2dsZXIgcGkgcGktZncgcGktYW5nbGUtZG93biI-PC9pPgogICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICAgICA8dWw-CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSByb2xlPSJtZW51aXRlbSI-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiBjbGFzcz0idG9wYmFyLW1lc3NhZ2UiIChjbGljayk9Im9uUHJvZmlsZVN1Ykl0ZW1DbGljaygkZXZlbnQpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iYXNzZXRzL2xheW91dC9pbWFnZXMvYXZhdGFyMS5wbmciIHdpZHRoPSIyNSIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkdpdmUgbWUgYSBjYWxsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgICAgICA8bGkgcm9sZT0ibWVudWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iIyIgY2xhc3M9InRvcGJhci1tZXNzYWdlIiAoY2xpY2spPSJvblByb2ZpbGVTdWJJdGVtQ2xpY2soJGV2ZW50KSI-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9ImFzc2V0cy9sYXlvdXQvaW1hZ2VzL2F2YXRhcjIucG5nIiB3aWR0aD0iMjUiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5TYWxlcyByZXBvcnRzIGF0dGFjaGVkPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgICAgICA8bGkgcm9sZT0ibWVudWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iIyIgY2xhc3M9InRvcGJhci1tZXNzYWdlIiAoY2xpY2spPSJvblByb2ZpbGVTdWJJdGVtQ2xpY2soJGV2ZW50KSI-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9ImFzc2V0cy9sYXlvdXQvaW1hZ2VzL2F2YXRhcjMucG5nIiB3aWR0aD0iMjUiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5BYm91dCB5b3VyIGludm9pY2U8L3NwYW4-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E-CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk-CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSByb2xlPSJtZW51aXRlbSI-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiBjbGFzcz0idG9wYmFyLW1lc3NhZ2UiIChjbGljayk9Im9uUHJvZmlsZVN1Ykl0ZW1DbGljaygkZXZlbnQpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iYXNzZXRzL2xheW91dC9pbWFnZXMvYXZhdGFyMi5wbmciIHdpZHRoPSIyNSIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPk1lZXRpbmcgdG9kYXkgYXQgMTBwbTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHJvbGU9Im1lbnVpdGVtIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMiIGNsYXNzPSJ0b3BiYXItbWVzc2FnZSIgKGNsaWNrKT0ib25Qcm9maWxlU3ViSXRlbUNsaWNrKCRldmVudCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJhc3NldHMvbGF5b3V0L2ltYWdlcy9hdmF0YXI0LnBuZyIgd2lkdGg9IjI1Ii8-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4-T3V0IG9mIG9mZmljZTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgIDxsaSAjbm90aWZpY2F0aW9ucyBbbmdDbGFzc109InsnbWVudWl0ZW0tYWN0aXZlJzphcHAuYWN0aXZlUHJvZmlsZUl0ZW0gPT09IG5vdGlmaWNhdGlvbnN9Ij4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiAoY2xpY2spPSJvblByb2ZpbGVJdGVtQ2xpY2soJGV2ZW50LG5vdGlmaWNhdGlvbnMpIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9InBpIHBpLWZ3IHBpLWJlbGwiPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InRvcGJhci1pdGVtLW5hbWUiPk5vdGlmaWNhdGlvbnM8L3NwYW4-CiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJsYXlvdXQtbWVudWl0ZW0tdG9nZ2xlciBwaSBwaS1mdyBwaS1hbmdsZS1kb3duIj48L2k-CiAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHJvbGU9Im1lbnVpdGVtIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMiIChjbGljayk9Im9uUHJvZmlsZVN1Ykl0ZW1DbGljaygkZXZlbnQpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0icGkgcGktZncgcGktc2xpZGVycy1oIj48L2k-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4-UGVuZGluZyB0YXNrczwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHJvbGU9Im1lbnVpdGVtIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMiIChjbGljayk9Im9uUHJvZmlsZVN1Ykl0ZW1DbGljaygkZXZlbnQpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0icGkgcGktZncgcGktY2FsZW5kYXIiPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5NZWV0aW5nIHRvZGF5IGF0IDNwbTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHJvbGU9Im1lbnVpdGVtIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMiIChjbGljayk9Im9uUHJvZmlsZVN1Ykl0ZW1DbGljaygkZXZlbnQpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0icGkgcGktZncgcGktZG93bmxvYWQiPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Eb3dubG9hZCBkb2N1bWVudHM8L3NwYW4-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E-CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk-CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSByb2xlPSJtZW51aXRlbSI-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiAoY2xpY2spPSJvblByb2ZpbGVTdWJJdGVtQ2xpY2soJGV2ZW50KSI-CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9InBpIHBpLWZ3IHBpLXRpY2tldCI-PC9pPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkJvb2sgZmxpZ2h0PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDwvdWw-CiAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICA8L3VsPgogICAgICAgIDwvZGl2PgogICAgYCwKICAgIGFuaW1hdGlvbnM6IFsKICAgICAgICB0cmlnZ2VyKCdtZW51JywgWwogICAgICAgICAgICBzdGF0ZSgnaGlkZGVuQW5pbWF0ZWQnLCBzdHlsZSh7CiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcwcHgnCiAgICAgICAgICAgIH0pKSwKICAgICAgICAgICAgc3RhdGUoJ3Zpc2libGVBbmltYXRlZCcsIHN0eWxlKHsKICAgICAgICAgICAgICAgIGhlaWdodDogJyonCiAgICAgICAgICAgIH0pKSwKICAgICAgICAgICAgc3RhdGUoJ3Zpc2libGUnLCBzdHlsZSh7CiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcqJwogICAgICAgICAgICB9KSksCiAgICAgICAgICAgIHN0YXRlKCdoaWRkZW4nLCBzdHlsZSh7CiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcwcHgnCiAgICAgICAgICAgIH0pKSwKICAgICAgICAgICAgdHJhbnNpdGlvbigndmlzaWJsZUFuaW1hdGVkID0-IGhpZGRlbkFuaW1hdGVkJywgYW5pbWF0ZSgnNDAwbXMgY3ViaWMtYmV6aWVyKDAuODYsIDAsIDAuMDcsIDEpJykpLAogICAgICAgICAgICB0cmFuc2l0aW9uKCdoaWRkZW5BbmltYXRlZCA9PiB2aXNpYmxlQW5pbWF0ZWQnLCBhbmltYXRlKCc0MDBtcyBjdWJpYy1iZXppZXIoMC44NiwgMCwgMC4wNywgMSknKSkKICAgICAgICBdKQogICAgXQp9KQpleHBvcnQgY2xhc3MgQXBwUHJvZmlsZUNvbXBvbmVudCB7CgogICAgY29uc3RydWN0b3IocHVibGljIGFwcDogQXBwTWFpbkNvbXBvbmVudCkge30KCiAgICBvblByb2ZpbGVDbGljayhldmVudCkgewogICAgICAgIHRoaXMuYXBwLnVzZXJtZW51Q2xpY2sgPSB0cnVlOwogICAgICAgIHRoaXMuYXBwLnVzZXJtZW51QWN0aXZlID0gIXRoaXMuYXBwLnVzZXJtZW51QWN0aXZlOwogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CgogICAgb25Qcm9maWxlSXRlbUNsaWNrKGV2ZW50LCBpdGVtKSB7CiAgICAgICAgdGhpcy5hcHAudXNlcm1lbnVDbGljayA9IHRydWU7CiAgICAgICAgaWYgKHRoaXMuYXBwLmFjdGl2ZVByb2ZpbGVJdGVtID09PSBpdGVtKSB7CiAgICAgICAgICAgIHRoaXMuYXBwLmFjdGl2ZVByb2ZpbGVJdGVtID0gbnVsbDsgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5hcHAuYWN0aXZlUHJvZmlsZUl0ZW0gPSBpdGVtOyB9CgogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CgogICAgb25Qcm9maWxlU3ViSXRlbUNsaWNrKGV2ZW50KSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgIH0KfQo