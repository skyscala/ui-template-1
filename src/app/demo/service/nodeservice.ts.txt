aW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJzsKaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwoKaW1wb3J0IHsgVHJlZU5vZGUgfSBmcm9tICdwcmltZW5nL2FwaSc7CgpASW5qZWN0YWJsZSgpCmV4cG9ydCBjbGFzcyBOb2RlU2VydmljZSB7CgogICAgY29uc3RydWN0b3IocHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50KSB7IH0KCiAgICBnZXRGaWxlcygpIHsKICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0PGFueT4oJ2Fzc2V0cy9kZW1vL2RhdGEvZmlsZXMuanNvbicpCiAgICAgIC50b1Byb21pc2UoKQogICAgICAudGhlbihyZXMgPT4gcmVzLmRhdGEgYXMgVHJlZU5vZGVbXSk7CiAgICB9CgogICAgZ2V0TGF6eUZpbGVzKCkgewogICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQ8YW55PignYXNzZXRzL2RlbW8vZGF0YS9maWxlcy1sYXp5Lmpzb24nKQogICAgICAudG9Qcm9taXNlKCkKICAgICAgLnRoZW4ocmVzID0-IHJlcy5kYXRhIGFzIFRyZWVOb2RlW10pOwogICAgfQoKICAgIGdldEZpbGVzeXN0ZW0oKSB7CiAgICByZXR1cm4gdGhpcy5odHRwLmdldDxhbnk-KCdhc3NldHMvZGVtby9kYXRhL2ZpbGVzeXN0ZW0uanNvbicpCiAgICAgIC50b1Byb21pc2UoKQogICAgICAudGhlbihyZXMgPT4gcmVzLmRhdGEgYXMgVHJlZU5vZGVbXSk7CiAgICB9CgogICAgZ2V0TGF6eUZpbGVzeXN0ZW0oKSB7CiAgICByZXR1cm4gdGhpcy5odHRwLmdldDxhbnk-KCdhc3NldHMvZGVtby9kYXRhL2ZpbGVzeXN0ZW0tbGF6eS5qc29uJykKICAgICAgLnRvUHJvbWlzZSgpCiAgICAgIC50aGVuKHJlcyA9PiByZXMuZGF0YSBhcyBUcmVlTm9kZVtdKTsKICAgIH0KfQo