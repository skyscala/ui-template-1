aW1wb3J0IHtDb21wb25lbnR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQge01lc3NhZ2VTZXJ2aWNlfSBmcm9tICdwcmltZW5nL2FwaSc7CmltcG9ydCB7QnJlYWRjcnVtYlNlcnZpY2V9IGZyb20gJy4uLy4uL2FwcC5icmVhZGNydW1iLnNlcnZpY2UnOwoKQENvbXBvbmVudCh7CiAgICB0ZW1wbGF0ZVVybDogJy4vZmlsZWRlbW8uY29tcG9uZW50Lmh0bWwnLAogICAgcHJvdmlkZXJzOiBbTWVzc2FnZVNlcnZpY2VdCn0pCmV4cG9ydCBjbGFzcyBGaWxlRGVtb0NvbXBvbmVudCB7CgogICAgdXBsb2FkZWRGaWxlczogYW55W10gPSBbXTsKCiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG1lc3NhZ2VTZXJ2aWNlOiBNZXNzYWdlU2VydmljZSwgcHJpdmF0ZSBicmVhZGNydW1iU2VydmljZTogQnJlYWRjcnVtYlNlcnZpY2UpIHsKICAgICAgICB0aGlzLmJyZWFkY3J1bWJTZXJ2aWNlLnNldEl0ZW1zKFsKICAgICAgICAgICAge2xhYmVsOiAnRmlsZSd9CiAgICAgICAgXSk7CiAgICB9CgogICAgb25VcGxvYWQoZXZlbnQpIHsKICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZXZlbnQuZmlsZXMpIHsKICAgICAgICAgICAgdGhpcy51cGxvYWRlZEZpbGVzLnB1c2goZmlsZSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLm1lc3NhZ2VTZXJ2aWNlLmFkZCh7c2V2ZXJpdHk6ICdpbmZvJywgc3VtbWFyeTogJ1N1Y2Nlc3MnLCBkZXRhaWw6ICdGaWxlIFVwbG9hZGVkJ30pOwogICAgfQoKICAgIG9uQmFzaWNVcGxvYWQoZXZlbnQpIHsKICAgICAgICB0aGlzLm1lc3NhZ2VTZXJ2aWNlLmFkZCh7c2V2ZXJpdHk6ICdpbmZvJywgc3VtbWFyeTogJ1N1Y2Nlc3MnLCBkZXRhaWw6ICdGaWxlIFVwbG9hZGVkIHdpdGggQmFzaWMgTW9kZSd9KTsKICAgIH0KfQo