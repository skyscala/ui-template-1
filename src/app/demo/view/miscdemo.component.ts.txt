aW1wb3J0IHtDb21wb25lbnQsIE9uSW5pdH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CmltcG9ydCB7QnJlYWRjcnVtYlNlcnZpY2V9IGZyb20gJy4uLy4uL2FwcC5icmVhZGNydW1iLnNlcnZpY2UnOwoKQENvbXBvbmVudCh7CiAgICB0ZW1wbGF0ZVVybDogJy4vbWlzY2RlbW8uY29tcG9uZW50Lmh0bWwnLAogICAgc3R5bGVzOiBbYAoJCTpob3N0IDo6bmctZGVlcCAubWlzYy1kZW1vIC5wLWJ1dHRvbi5wLXdpZGdldCB7CgkJICAgIG1pbi13aWR0aDogNnJlbTsKCSAgICB9CgoJCTpob3N0IDo6bmctZGVlcCAubWlzYy1kZW1vIC5iYWRnZXMgLnAtYmFkZ2UgewoJCSAgICBtYXJnaW4tcmlnaHQ6IC41cmVtOwoJCX0KCgkJOmhvc3QgOjpuZy1kZWVwIC5taXNjLWRlbW8gLmJhZGdlcyAucC10YWcgewoJCQltYXJnaW4tcmlnaHQ6IC41cmVtOwoJCX0KCiAgICAgICAgOmhvc3QgOjpuZy1kZWVwIC5wLWNoaXAuY3VzdG9tLWNoaXAgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3ItdGV4dCk7CiAgICAgICAgfQoKICAgICAgICA6aG9zdCA6Om5nLWRlZXAgLmN1c3RvbS1zY3JvbGx0b3B7CiAgICAgICAgICAgIHdpZHRoOiAycmVtOwogICAgICAgICAgICBoZWlnaHQ6IDJyZW07CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgICAgICAgfQoKICAgICAgICA6aG9zdCA6Om5nLWRlZXAgLmN1c3RvbS1zY3JvbGx0b3AgLnAtc2Nyb2xsdG9wLWljb24gewogICAgICAgICAgICBmb250LXNpemU6IDFyZW07CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yLXRleHQpOwogICAgICAgIH0KCiAgICAgICAgOmhvc3QgOjpuZy1kZWVwIC5jdXN0b20tc2Nyb2xsdG9wOmhvdmVyIHsKICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOwogICAgICAgIH0KCiAgICAgICAgOmhvc3QgOjpuZy1kZWVwICAuY3VzdG9tLXNrZWxldG9uIHsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tc3VyZmFjZS1kKTsKICAgICAgICAgICAgYm9yZGVyLWJvcmRlclJhZGl1czogNHB4OwogICAgICAgIH0KCiAgICAgICAgOmhvc3QgOjpuZy1kZWVwICAuY3VzdG9tLXNrZWxldG9uIHVsIHsKICAgICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTsKICAgICAgICB9CiAgICBgXQp9KQpleHBvcnQgY2xhc3MgTWlzY0RlbW9Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQgewoKICAgIHZhbHVlID0gMDsKCiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJyZWFkY3J1bWJTZXJ2aWNlOiBCcmVhZGNydW1iU2VydmljZSkgewogICAgICAgIHRoaXMuYnJlYWRjcnVtYlNlcnZpY2Uuc2V0SXRlbXMoWwogICAgICAgICAgICB7bGFiZWw6ICdNaXNjJ30KICAgICAgICBdKTsKICAgIH0KCiAgICBuZ09uSW5pdCgpIHsKICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0-IHsKICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkgKyAxOwogICAgICAgICAgICBpZiAodGhpcy52YWx1ZSA-PSAxMDApIHsKICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSAxMDA7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIDIwMDApOwogICAgfQp9Cg