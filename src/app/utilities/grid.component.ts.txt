aW1wb3J0IHtDb21wb25lbnQsIE9uSW5pdH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CmltcG9ydCB7dHJpZ2dlciwgc3RhdGUsIHN0eWxlLCB0cmFuc2l0aW9uLCBhbmltYXRlfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJzsKaW1wb3J0IHtCcmVhZGNydW1iU2VydmljZX0gZnJvbSAnLi4vYXBwLmJyZWFkY3J1bWIuc2VydmljZSc7CgpAQ29tcG9uZW50KHsKICAgIHRlbXBsYXRlVXJsOiAnLi9ncmlkLmNvbXBvbmVudC5odG1sJywKICAgIHN0eWxlczogW2AKICAgICAgICAuYm94IHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc3VyZmFjZS1lKTsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBwYWRkaW5nOiAxLjI1cmVtOwogICAgICAgICAgICBmb250LXNpemU6IDEuNXJlbTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCAxcHggLTFweCByZ2JhKDAsMCwwLC4yKSwgMCAxcHggMXB4IDAgcmdiYSgwLDAsMCwuMTQpLCAwIDFweCAzcHggMCByZ2JhKDAsMCwwLC4xMik7CiAgICAgICAgfQoKICAgICAgICAuYm94LXN0cmV0Y2hlZCB7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICB9CgogICAgICAgIC52ZXJ0aWNhbC1jb250YWluZXIgewogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIGhlaWdodDogMjAwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtZCk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICB9CgogICAgICAgIC5uZXN0ZWQtZ3JpZCAucC1jb2wtNCB7CiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxcmVtOwogICAgICAgIH0KICAgIGBdLAogICAgYW5pbWF0aW9uczogWwogICAgICAgIHRyaWdnZXIoJ2FuaW1hdGlvbicsIFsKICAgICAgICAgICAgc3RhdGUoJ3Zpc2libGUnLCBzdHlsZSh7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKDApJywKICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEKICAgICAgICAgICAgfSkpLAogICAgICAgICAgICB0cmFuc2l0aW9uKCd2b2lkID0-IConLCBbCiAgICAgICAgICAgICAgICBzdHlsZSh7dHJhbnNmb3JtOiAndHJhbnNsYXRlWCg1MCUpJywgb3BhY2l0eTogMH0pLAogICAgICAgICAgICAgICAgYW5pbWF0ZSgnMzAwbXMgZWFzZS1vdXQnKQogICAgICAgICAgICBdKSwKICAgICAgICAgICAgdHJhbnNpdGlvbignKiA9PiB2b2lkJywgWwogICAgICAgICAgICAgICAgYW5pbWF0ZSgoJzI1MG1zIGVhc2UtaW4nKSwgc3R5bGUoewogICAgICAgICAgICAgICAgICAgIGhlaWdodDogMCwKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLAogICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoNTAlKScKICAgICAgICAgICAgICAgIH0pKQogICAgICAgICAgICBdKQogICAgICAgIF0pCiAgICBdCn0pCmV4cG9ydCBjbGFzcyBHcmlkQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0ewoKICAgIGNvbHVtbnM6IG51bWJlcltdOwoKICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYnJlYWRjcnVtYlNlcnZpY2U6IEJyZWFkY3J1bWJTZXJ2aWNlKSB7CiAgICAgICAgdGhpcy5icmVhZGNydW1iU2VydmljZS5zZXRJdGVtcyhbCiAgICAgICAgICAgIHtsYWJlbDogJ0dyaWQgU3lzdGVtJ30KICAgICAgICBdKTsKICAgIH0KCiAgICBuZ09uSW5pdCgpIHsKICAgICAgICB0aGlzLmNvbHVtbnMgPSBbMCwgMSwgMiwgMywgNCwgNV07CiAgICB9CgogICAgYWRkQ29sdW1uKCkgewogICAgICAgIHRoaXMuY29sdW1ucy5wdXNoKHRoaXMuY29sdW1ucy5sZW5ndGgpOwogICAgfQoKICAgIHJlbW92ZUNvbHVtbigpIHsKICAgICAgICB0aGlzLmNvbHVtbnMuc3BsaWNlKC0xLCAxKTsKICAgIH0KfQo