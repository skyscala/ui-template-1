OnJvb3QgewogIEBpZiB2YXJpYWJsZS1leGlzdHMoY29sb3JzKSB7CiAgICBAZWFjaCAkbmFtZSwgJGNvbG9yIGluICRjb2xvcnMgewogICAgICAgIEBmb3IgJGkgZnJvbSAwIHRocm91Z2ggNSB7CiAgICAgICAgICAgIEBpZiAoJGkgPT0gMCkgewogICAgICAgICAgICAgICAgLS0jeyRuYW1lfS01MDoje3RpbnQoJGNvbG9yLCAoNSAtICRpKSAqIDE5JSl9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIEBlbHNlIHsKICAgICAgICAgICAgICAgIC0tI3skbmFtZX0tI3skaSAqIDEwMH06I3t0aW50KCRjb2xvciwgKDUgLSAkaSkgKiAxOSUpfTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgQGZvciAkaSBmcm9tIDEgdGhyb3VnaCA0IHsKICAgICAgICAgICAgLS0jeyRuYW1lfS0jeygkaSArIDUpICogMTAwfToje3NoYWRlKCRjb2xvciwgJGkgKiAxNSUpfTsKICAgICAgICB9CiAgICB9CiAgfQp9Cg