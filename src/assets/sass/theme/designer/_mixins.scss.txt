QG1peGluIGljb24tb3ZlcnJpZGUoJGljb24pIHsKCSY6YmVmb3JlIHsKCQljb250ZW50OiAkaWNvbjsKCX0KfQoKQG1peGluIGZvY3VzZWQoKSB7CglvdXRsaW5lOiAkZm9jdXNPdXRsaW5lOwogICAgb3V0bGluZS1vZmZzZXQ6ICRmb2N1c091dGxpbmVPZmZzZXQ7CiAgICBib3gtc2hhZG93OiAkZm9jdXNTaGFkb3c7Cn0KCkBtaXhpbiBmb2N1c2VkLWluc2V0KCkgewoJb3V0bGluZTogJGZvY3VzT3V0bGluZTsKICAgIG91dGxpbmUtb2Zmc2V0OiAkZm9jdXNPdXRsaW5lT2Zmc2V0OwogICAgYm94LXNoYWRvdzogaW5zZXQgJGZvY3VzU2hhZG93Owp9CgpAbWl4aW4gZm9jdXNlZC1pbnB1dCgpIHsKCUBpbmNsdWRlIGZvY3VzZWQoKTsKCWJvcmRlci1jb2xvcjogJGlucHV0Rm9jdXNCb3JkZXJDb2xvcjsKfQoKQG1peGluIGZvY3VzZWQtbGlzdGl0ZW0oKSB7CglvdXRsaW5lOiAkZm9jdXNPdXRsaW5lOwogICAgb3V0bGluZS1vZmZzZXQ6ICRmb2N1c091dGxpbmVPZmZzZXQ7CiAgICBib3gtc2hhZG93OiAkaW5wdXRMaXN0SXRlbUZvY3VzU2hhZG93Owp9CgpAbWl4aW4gaW52YWxpZC1pbnB1dCgpIHsKCWJvcmRlci1jb2xvcjogJGlucHV0RXJyb3JCb3JkZXJDb2xvcjsKfQoKQG1peGluIG1lbnVpdGVtLWxpbmsgewoJcGFkZGluZzogJG1lbnVpdGVtUGFkZGluZzsKCWNvbG9yOiAkbWVudWl0ZW1UZXh0Q29sb3I7CiAgICBib3JkZXItcmFkaXVzOiAkbWVudWl0ZW1Cb3JkZXJSYWRpdXM7CiAgICB0cmFuc2l0aW9uOiAkbGlzdEl0ZW1UcmFuc2l0aW9uOwogICAgdXNlci1zZWxlY3Q6IG5vbmU7CgoJLnAtbWVudWl0ZW0tdGV4dCB7CiAgICAgICAgY29sb3I6ICRtZW51aXRlbVRleHRDb2xvcjsKCX0KCgkucC1tZW51aXRlbS1pY29uIHsKCQljb2xvcjogJG1lbnVpdGVtSWNvbkNvbG9yOwoJCW1hcmdpbi1yaWdodDogJGlubGluZVNwYWNpbmc7CiAgICB9CgogICAgLnAtc3VibWVudS1pY29uIHsKICAgICAgICBjb2xvcjogJG1lbnVpdGVtSWNvbkNvbG9yOwogICAgfQoKCSY6bm90KC5wLWRpc2FibGVkKTpob3ZlciB7CgkJYmFja2dyb3VuZDogJG1lbnVpdGVtSG92ZXJCZzsKCgkJLnAtbWVudWl0ZW0tdGV4dCB7CgkJCWNvbG9yOiAkbWVudWl0ZW1UZXh0SG92ZXJDb2xvcjsKCQl9CgoJCS5wLW1lbnVpdGVtLWljb24gewoJCQljb2xvcjogJG1lbnVpdGVtSWNvbkhvdmVyQ29sb3I7CiAgICAgICAgfQoKICAgICAgICAucC1zdWJtZW51LWljb24gewogICAgICAgICAgICBjb2xvcjogJG1lbnVpdGVtSWNvbkhvdmVyQ29sb3I7CiAgICAgICAgfQoJfQoKCSY6Zm9jdXMgewoJCUBpbmNsdWRlIGZvY3VzZWQtbGlzdGl0ZW0oKTsKCX0KfQoKQG1peGluIGhvcml6b250YWwtcm9vdG1lbnVpdGVtLWxpbmsgewoJcGFkZGluZzogJGhvcml6b250YWxNZW51Um9vdE1lbnVpdGVtUGFkZGluZzsKCWNvbG9yOiAkaG9yaXpvbnRhbE1lbnVSb290TWVudWl0ZW1UZXh0Q29sb3I7CiAgICBib3JkZXItcmFkaXVzOiAkaG9yaXpvbnRhbE1lbnVSb290TWVudWl0ZW1Cb3JkZXJSYWRpdXM7CiAgICB0cmFuc2l0aW9uOiAkbGlzdEl0ZW1UcmFuc2l0aW9uOwogICAgdXNlci1zZWxlY3Q6IG5vbmU7CgoJLnAtbWVudWl0ZW0tdGV4dCB7CiAgICAgICAgY29sb3I6ICRob3Jpem9udGFsTWVudVJvb3RNZW51aXRlbVRleHRDb2xvcjsKCX0KCgkucC1tZW51aXRlbS1pY29uIHsKCQljb2xvcjogJGhvcml6b250YWxNZW51Um9vdE1lbnVpdGVtSWNvbkNvbG9yOwoJCW1hcmdpbi1yaWdodDogJGlubGluZVNwYWNpbmc7CiAgICB9CgogICAgLnAtc3VibWVudS1pY29uIHsKICAgICAgICBjb2xvcjogJGhvcml6b250YWxNZW51Um9vdE1lbnVpdGVtSWNvbkNvbG9yOwogICAgICAgIG1hcmdpbi1sZWZ0OiAkaW5saW5lU3BhY2luZzsKICAgIH0KCgkmOm5vdCgucC1kaXNhYmxlZCk6aG92ZXIgewoJCWJhY2tncm91bmQ6ICRob3Jpem9udGFsTWVudVJvb3RNZW51aXRlbUhvdmVyQmc7CgoJCS5wLW1lbnVpdGVtLXRleHQgewoJCQljb2xvcjogJGhvcml6b250YWxNZW51Um9vdE1lbnVpdGVtVGV4dEhvdmVyQ29sb3I7CgkJfQoKCQkucC1tZW51aXRlbS1pY29uIHsKCQkJY29sb3I6ICRob3Jpem9udGFsTWVudVJvb3RNZW51aXRlbUljb25Ib3ZlckNvbG9yOwogICAgICAgIH0KCiAgICAgICAgLnAtc3VibWVudS1pY29uIHsKICAgICAgICAgICAgY29sb3I6ICRob3Jpem9udGFsTWVudVJvb3RNZW51aXRlbUljb25Ib3ZlckNvbG9yOwogICAgICAgIH0KCX0KCgkmOmZvY3VzIHsKCQlAaW5jbHVkZSBmb2N1c2VkLWxpc3RpdGVtKCk7Cgl9Cn0KCkBtaXhpbiBwbGFjZWhvbGRlciB7Cgk6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIgewoJCUBjb250ZW50Cgl9Cgk6LW1vei1wbGFjZWhvbGRlciB7CgkJQGNvbnRlbnQKCX0KCTo6LW1vei1wbGFjZWhvbGRlciB7CgkJQGNvbnRlbnQKCX0KCTotbXMtaW5wdXQtcGxhY2Vob2xkZXIgewoJCUBjb250ZW50Cgl9Cn0KCkBtaXhpbiBzY2FsZWRQYWRkaW5nKCR2YWwsICRzY2FsZSkgewogICAgcGFkZGluZzogbnRoKCR2YWwsIDEpICogJHNjYWxlIG50aCgkdmFsLCAyKSAqICRzY2FsZTsKfQoKQG1peGluIHNjYWxlZEZvbnRTaXplKCR2YWwsICRzY2FsZSkgewogICAgZm9udC1zaXplOiAkdmFsICogJHNjYWxlOwp9CgpAbWl4aW4gbmVzdGVkLXN1Ym1lbnUtaW5kZW50cygkdmFsLCAkaW5kZXgsICRsZW5ndGgpIHsKICAgIHVsIHsKICAgICAgICBsaSB7CiAgICAgICAgICAgIGEgewogICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAkdmFsICogKCRpbmRleCArIDEpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBAaWYgJGluZGV4IDwgJGxlbmd0aCB7CiAgICAgICAgICAgICAgICBAaW5jbHVkZSBuZXN0ZWQtc3VibWVudS1pbmRlbnRzKCR2YWwsICRpbmRleCArIDIsICRsZW5ndGgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9CgpAbWl4aW4gYWN0aW9uLWljb24oJGVuYWJsZWQ6IHRydWUpIHsKICAgIHdpZHRoOiAkYWN0aW9uSWNvbldpZHRoOwogICAgaGVpZ2h0OiAkYWN0aW9uSWNvbkhlaWdodDsKICAgIGNvbG9yOiAkYWN0aW9uSWNvbkNvbG9yOwogICAgYm9yZGVyOiAkYWN0aW9uSWNvbkJvcmRlcjsKICAgIGJhY2tncm91bmQ6ICRhY3Rpb25JY29uQmc7CiAgICBib3JkZXItcmFkaXVzOiAkYWN0aW9uSWNvbkJvcmRlclJhZGl1czsKICAgIHRyYW5zaXRpb246ICRhY3Rpb25JY29uVHJhbnNpdGlvbjsKCiAgICAmOmVuYWJsZWQ6aG92ZXIgewogICAgICAgIGNvbG9yOiAkYWN0aW9uSWNvbkhvdmVyQ29sb3I7CiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYWN0aW9uSWNvbkhvdmVyQm9yZGVyQ29sb3I7CiAgICAgICAgYmFja2dyb3VuZDogJGFjdGlvbkljb25Ib3ZlckJnOwogICAgfQoKICAgICY6Zm9jdXMgewogICAgICAgIEBpbmNsdWRlIGZvY3VzZWQoKTsKICAgIH0KfQoKQGZ1bmN0aW9uIHRpbnQoJGNvbG9yLCAkcGVyY2VudGFnZSkgewogICAgQHJldHVybiBtaXgoI2ZmZiwgJGNvbG9yLCAkcGVyY2VudGFnZSk7Cn0KCkBmdW5jdGlvbiBzaGFkZSgkY29sb3IsICRwZXJjZW50YWdlKSB7CiAgICBAcmV0dXJuIG1peCgjMDAwLCAkY29sb3IsICRwZXJjZW50YWdlKTsKfQo